import{c as U,a as pt,g as Bt}from"./index-CDs2tPxN.js";import{d as Ht,B as V}from"./index-BKD8Dact.js";import{p as x}from"./index-BAMY2Nnw.js";import{u as vt,i as X}from"./util-DMkKVjcQ.js";import{u as Ft}from"./url-amwFPBqB.js";function Wt(e,t){for(var i=0;i<t.length;i++){const o=t[i];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const d=Object.getOwnPropertyDescriptor(o,a);d&&Object.defineProperty(e,a,d.get?d:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var He={},_t={exports:{}},Fe={};(function(e){e.fetch=a(U.fetch)&&a(U.ReadableStream),e.writableStream=a(U.WritableStream),e.abortController=a(U.AbortController);var t;function i(){if(t!==void 0)return t;if(U.XMLHttpRequest){t=new U.XMLHttpRequest;try{t.open("GET",U.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function o(d){var l=i();if(!l)return!1;try{return l.responseType=d,l.responseType===d}catch{}return!1}e.arraybuffer=e.fetch||o("arraybuffer"),e.msstream=!e.fetch&&o("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(i()?a(i().overrideMimeType):!1);function a(d){return typeof d=="function"}t=null})(Fe);var _e={},Ue={exports:{}},We={exports:{}},re=typeof Reflect=="object"?Reflect:null,Xe=re&&typeof re.apply=="function"?re.apply:function(t,i,o){return Function.prototype.apply.call(t,i,o)},pe;re&&typeof re.ownKeys=="function"?pe=re.ownKeys:Object.getOwnPropertySymbols?pe=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:pe=function(t){return Object.getOwnPropertyNames(t)};function Gt(e){console&&console.warn&&console.warn(e)}var yt=Number.isNaN||function(t){return t!==t};function I(){I.init.call(this)}We.exports=I;We.exports.once=Yt;I.EventEmitter=I;I.prototype._events=void 0;I.prototype._eventsCount=0;I.prototype._maxListeners=void 0;var ze=10;function ye(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return ze},set:function(e){if(typeof e!="number"||e<0||yt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ze=e}});I.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};I.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||yt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function gt(e){return e._maxListeners===void 0?I.defaultMaxListeners:e._maxListeners}I.prototype.getMaxListeners=function(){return gt(this)};I.prototype.emit=function(t){for(var i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);var a=t==="error",d=this._events;if(d!==void 0)a=a&&d.error===void 0;else if(!a)return!1;if(a){var l;if(i.length>0&&(l=i[0]),l instanceof Error)throw l;var h=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw h.context=l,h}var c=d[t];if(c===void 0)return!1;if(typeof c=="function")Xe(c,this,i);else for(var R=c.length,O=Rt(c,R),o=0;o<R;++o)Xe(O[o],this,i);return!0};function bt(e,t,i,o){var a,d,l;if(ye(i),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),d=e._events),l=d[t]),l===void 0)l=d[t]=i,++e._eventsCount;else if(typeof l=="function"?l=d[t]=o?[i,l]:[l,i]:o?l.unshift(i):l.push(i),a=gt(e),a>0&&l.length>a&&!l.warned){l.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=l.length,Gt(h)}return e}I.prototype.addListener=function(t,i){return bt(this,t,i,!1)};I.prototype.on=I.prototype.addListener;I.prototype.prependListener=function(t,i){return bt(this,t,i,!0)};function $t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wt(e,t,i){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=$t.bind(o);return a.listener=i,o.wrapFn=a,a}I.prototype.once=function(t,i){return ye(i),this.on(t,wt(this,t,i)),this};I.prototype.prependOnceListener=function(t,i){return ye(i),this.prependListener(t,wt(this,t,i)),this};I.prototype.removeListener=function(t,i){var o,a,d,l,h;if(ye(i),a=this._events,a===void 0)return this;if(o=a[t],o===void 0)return this;if(o===i||o.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,o.listener||i));else if(typeof o!="function"){for(d=-1,l=o.length-1;l>=0;l--)if(o[l]===i||o[l].listener===i){h=o[l].listener,d=l;break}if(d<0)return this;d===0?o.shift():Kt(o,d),o.length===1&&(a[t]=o[0]),a.removeListener!==void 0&&this.emit("removeListener",t,h||i)}return this};I.prototype.off=I.prototype.removeListener;I.prototype.removeAllListeners=function(t){var i,o,a;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[t]),this;if(arguments.length===0){var d=Object.keys(o),l;for(a=0;a<d.length;++a)l=d[a],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=o[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(a=i.length-1;a>=0;a--)this.removeListener(t,i[a]);return this};function mt(e,t,i){var o=e._events;if(o===void 0)return[];var a=o[t];return a===void 0?[]:typeof a=="function"?i?[a.listener||a]:[a]:i?Vt(a):Rt(a,a.length)}I.prototype.listeners=function(t){return mt(this,t,!0)};I.prototype.rawListeners=function(t){return mt(this,t,!1)};I.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Et.call(e,t)};I.prototype.listenerCount=Et;function Et(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}I.prototype.eventNames=function(){return this._eventsCount>0?pe(this._events):[]};function Rt(e,t){for(var i=new Array(t),o=0;o<t;++o)i[o]=e[o];return i}function Kt(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Vt(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function Yt(e,t){return new Promise(function(i,o){function a(l){e.removeListener(t,d),o(l)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",a),i([].slice.call(arguments))}St(e,t,d,{once:!0}),t!=="error"&&Xt(e,a,{once:!0})})}function Xt(e,t,i){typeof e.on=="function"&&St(e,"error",t,i)}function St(e,t,i,o){if(typeof e.on=="function")o.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(d){o.once&&e.removeEventListener(t,a),i(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Tt=We.exports,Lt=Tt.EventEmitter;const ge=pt(Ht);var Ce,Je;function zt(){if(Je)return Ce;Je=1;function e(S,T){var m=Object.keys(S);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(S);T&&(f=f.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),m.push.apply(m,f)}return m}function t(S){for(var T=1;T<arguments.length;T++){var m=arguments[T]!=null?arguments[T]:{};T%2?e(Object(m),!0).forEach(function(f){i(S,f,m[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(m)):e(Object(m)).forEach(function(f){Object.defineProperty(S,f,Object.getOwnPropertyDescriptor(m,f))})}return S}function i(S,T,m){return T=l(T),T in S?Object.defineProperty(S,T,{value:m,enumerable:!0,configurable:!0,writable:!0}):S[T]=m,S}function o(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function a(S,T){for(var m=0;m<T.length;m++){var f=T[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(S,l(f.key),f)}}function d(S,T,m){return T&&a(S.prototype,T),Object.defineProperty(S,"prototype",{writable:!1}),S}function l(S){var T=h(S,"string");return typeof T=="symbol"?T:String(T)}function h(S,T){if(typeof S!="object"||S===null)return S;var m=S[Symbol.toPrimitive];if(m!==void 0){var f=m.call(S,T||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}var c=ge,R=c.Buffer,O=vt,b=O.inspect,C=b&&b.custom||"inspect";function k(S,T,m){R.prototype.copy.call(S,T,m)}return Ce=function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return d(S,[{key:"push",value:function(m){var f={data:m,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(m){var f={data:m,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var f=this.head,v=""+f.data;f=f.next;)v+=m+f.data;return v}},{key:"concat",value:function(m){if(this.length===0)return R.alloc(0);for(var f=R.allocUnsafe(m>>>0),v=this.head,y=0;v;)k(v.data,f,y),y+=v.data.length,v=v.next;return f}},{key:"consume",value:function(m,f){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?v=this.shift():v=f?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var f=this.head,v=1,y=f.data;for(m-=y.length;f=f.next;){var g=f.data,E=m>g.length?g.length:m;if(E===g.length?y+=g:y+=g.slice(0,m),m-=E,m===0){E===g.length?(++v,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=g.slice(E));break}++v}return this.length-=v,y}},{key:"_getBuffer",value:function(m){var f=R.allocUnsafe(m),v=this.head,y=1;for(v.data.copy(f),m-=v.data.length;v=v.next;){var g=v.data,E=m>g.length?g.length:m;if(g.copy(f,f.length-m,0,E),m-=E,m===0){E===g.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=g.slice(E));break}++y}return this.length-=y,f}},{key:C,value:function(m,f){return b(this,t(t({},f),{},{depth:0,customInspect:!1}))}}]),S}(),Ce}function Jt(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,x.nextTick(Be,this,e)):x.nextTick(Be,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(d){!t&&d?i._writableState?i._writableState.errorEmitted?x.nextTick(ve,i):(i._writableState.errorEmitted=!0,x.nextTick(Qe,i,d)):x.nextTick(Qe,i,d):t?(x.nextTick(ve,i),t(d)):x.nextTick(ve,i)}),this)}function Qe(e,t){Be(e,t),ve(e)}function ve(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Qt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Be(e,t){e.emit("error",t)}function Zt(e,t){var i=e._readableState,o=e._writableState;i&&i.autoDestroy||o&&o.autoDestroy?e.destroy(t):e.emit("error",t)}var Mt={destroy:Jt,undestroy:Qt,errorOrDestroy:Zt},z={};function er(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ot={};function F(e,t,i){i||(i=Error);function o(d,l,h){return typeof t=="string"?t:t(d,l,h)}var a=function(d){er(l,d);function l(h,c,R){return d.call(this,o(h,c,R))||this}return l}(i);a.prototype.name=i.name,a.prototype.code=e,Ot[e]=a}function Ze(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map(function(o){return String(o)}),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:i===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function tr(e,t,i){return e.substr(0,t.length)===t}function rr(e,t,i){return(i===void 0||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}function nr(e,t,i){return typeof i!="number"&&(i=0),i+t.length>e.length?!1:e.indexOf(t,i)!==-1}F("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);F("ERR_INVALID_ARG_TYPE",function(e,t,i){var o;typeof t=="string"&&tr(t,"not ")?(o="must not be",t=t.replace(/^not /,"")):o="must be";var a;if(rr(e," argument"))a="The ".concat(e," ").concat(o," ").concat(Ze(t,"type"));else{var d=nr(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(d," ").concat(o," ").concat(Ze(t,"type"))}return a+=". Received type ".concat(typeof i),a},TypeError);F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");F("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});F("ERR_STREAM_PREMATURE_CLOSE","Premature close");F("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});F("ERR_MULTIPLE_CALLBACK","Callback called multiple times");F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");F("ERR_STREAM_WRITE_AFTER_END","write after end");F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);F("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");z.codes=Ot;var ir=z.codes.ERR_INVALID_OPT_VALUE;function ar(e,t,i){return e.highWaterMark!=null?e.highWaterMark:t?e[i]:null}function or(e,t,i,o){var a=ar(t,o,i);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var d=o?i:"highWaterMark";throw new ir(d,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var At={getHighWaterMark:or},fr=sr;function sr(e,t){if(Ne("noDeprecation"))return e;var i=!1;function o(){if(!i){if(Ne("throwDeprecation"))throw new Error(t);Ne("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return o}function Ne(e){try{if(!U.localStorage)return!1}catch{return!1}var t=U.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Pe,et;function Ct(){if(et)return Pe;et=1,Pe=D;function e(u){var s=this;this.next=null,this.entry=null,this.finish=function(){Le(s,u)}}var t;D.WritableState=A;var i={deprecate:fr},o=Lt,a=ge.Buffer,d=(typeof U<"u"?U:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(u){return a.from(u)}function h(u){return a.isBuffer(u)||u instanceof d}var c=Mt,R=At,O=R.getHighWaterMark,b=z.codes,C=b.ERR_INVALID_ARG_TYPE,k=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_MULTIPLE_CALLBACK,T=b.ERR_STREAM_CANNOT_PIPE,m=b.ERR_STREAM_DESTROYED,f=b.ERR_STREAM_NULL_VALUES,v=b.ERR_STREAM_WRITE_AFTER_END,y=b.ERR_UNKNOWN_ENCODING,g=c.errorOrDestroy;X(D,o);function E(){}function A(u,s,_){t=t||ne(),u=u||{},typeof _!="boolean"&&(_=s instanceof t),this.objectMode=!!u.objectMode,_&&(this.objectMode=this.objectMode||!!u.writableObjectMode),this.highWaterMark=O(this,u,"writableHighWaterMark",_),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=u.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=u.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){Re(s,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=u.emitClose!==!1,this.autoDestroy=!!u.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}A.prototype.getBuffer=function(){for(var s=this.bufferedRequest,_=[];s;)_.push(s),s=s.next;return _},function(){try{Object.defineProperty(A.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(s){return B.call(this,s)?!0:this!==D?!1:s&&s._writableState instanceof A}})):B=function(s){return s instanceof this};function D(u){t=t||ne();var s=this instanceof t;if(!s&&!B.call(D,this))return new D(u);this._writableState=new A(u,this,s),this.writable=!0,u&&(typeof u.write=="function"&&(this._write=u.write),typeof u.writev=="function"&&(this._writev=u.writev),typeof u.destroy=="function"&&(this._destroy=u.destroy),typeof u.final=="function"&&(this._final=u.final)),o.call(this)}D.prototype.pipe=function(){g(this,new T)};function M(u,s){var _=new v;g(u,_),x.nextTick(s,_)}function W(u,s,_,L){var P;return _===null?P=new f:typeof _!="string"&&!s.objectMode&&(P=new C("chunk",["string","Buffer"],_)),P?(g(u,P),x.nextTick(L,P),!1):!0}D.prototype.write=function(u,s,_){var L=this._writableState,P=!1,r=!L.objectMode&&h(u);return r&&!a.isBuffer(u)&&(u=l(u)),typeof s=="function"&&(_=s,s=null),r?s="buffer":s||(s=L.defaultEncoding),typeof _!="function"&&(_=E),L.ending?M(this,_):(r||W(this,L,u,_))&&(L.pendingcb++,P=me(this,L,r,u,s,_)),P},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var u=this._writableState;u.corked&&(u.corked--,!u.writing&&!u.corked&&!u.bufferProcessing&&u.bufferedRequest&&Q(this,u))},D.prototype.setDefaultEncoding=function(s){if(typeof s=="string"&&(s=s.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((s+"").toLowerCase())>-1))throw new y(s);return this._writableState.defaultEncoding=s,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(u,s,_){return!u.objectMode&&u.decodeStrings!==!1&&typeof s=="string"&&(s=a.from(s,_)),s}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function me(u,s,_,L,P,r){if(!_){var n=ie(s,L,P);L!==n&&(_=!0,P="buffer",L=n)}var p=s.objectMode?1:L.length;s.length+=p;var w=s.length<s.highWaterMark;if(w||(s.needDrain=!0),s.writing||s.corked){var j=s.lastBufferedRequest;s.lastBufferedRequest={chunk:L,encoding:P,isBuf:_,callback:r,next:null},j?j.next=s.lastBufferedRequest:s.bufferedRequest=s.lastBufferedRequest,s.bufferedRequestCount+=1}else J(u,s,!1,p,L,P,r);return w}function J(u,s,_,L,P,r,n){s.writelen=L,s.writecb=n,s.writing=!0,s.sync=!0,s.destroyed?s.onwrite(new m("write")):_?u._writev(P,s.onwrite):u._write(P,r,s.onwrite),s.sync=!1}function Ee(u,s,_,L,P){--s.pendingcb,_?(x.nextTick(P,L),x.nextTick(K,u,s),u._writableState.errorEmitted=!0,g(u,L)):(P(L),u._writableState.errorEmitted=!0,g(u,L),K(u,s))}function fe(u){u.writing=!1,u.writecb=null,u.length-=u.writelen,u.writelen=0}function Re(u,s){var _=u._writableState,L=_.sync,P=_.writecb;if(typeof P!="function")throw new S;if(fe(_),s)Ee(u,_,L,s,P);else{var r=ue(_)||u.destroyed;!r&&!_.corked&&!_.bufferProcessing&&_.bufferedRequest&&Q(u,_),L?x.nextTick($,u,_,r,P):$(u,_,r,P)}}function $(u,s,_,L){_||se(u,s),s.pendingcb--,L(),K(u,s)}function se(u,s){s.length===0&&s.needDrain&&(s.needDrain=!1,u.emit("drain"))}function Q(u,s){s.bufferProcessing=!0;var _=s.bufferedRequest;if(u._writev&&_&&_.next){var L=s.bufferedRequestCount,P=new Array(L),r=s.corkedRequestsFree;r.entry=_;for(var n=0,p=!0;_;)P[n]=_,_.isBuf||(p=!1),_=_.next,n+=1;P.allBuffers=p,J(u,s,!0,s.length,P,"",r.finish),s.pendingcb++,s.lastBufferedRequest=null,r.next?(s.corkedRequestsFree=r.next,r.next=null):s.corkedRequestsFree=new e(s),s.bufferedRequestCount=0}else{for(;_;){var w=_.chunk,j=_.encoding,N=_.callback,q=s.objectMode?1:w.length;if(J(u,s,!1,q,w,j,N),_=_.next,s.bufferedRequestCount--,s.writing)break}_===null&&(s.lastBufferedRequest=null)}s.bufferedRequest=_,s.bufferProcessing=!1}D.prototype._write=function(u,s,_){_(new k("_write()"))},D.prototype._writev=null,D.prototype.end=function(u,s,_){var L=this._writableState;return typeof u=="function"?(_=u,u=null,s=null):typeof s=="function"&&(_=s,s=null),u!=null&&this.write(u,s),L.corked&&(L.corked=1,this.uncork()),L.ending||Te(this,L,_),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ue(u){return u.ending&&u.length===0&&u.bufferedRequest===null&&!u.finished&&!u.writing}function Se(u,s){u._final(function(_){s.pendingcb--,_&&g(u,_),s.prefinished=!0,u.emit("prefinish"),K(u,s)})}function le(u,s){!s.prefinished&&!s.finalCalled&&(typeof u._final=="function"&&!s.destroyed?(s.pendingcb++,s.finalCalled=!0,x.nextTick(Se,u,s)):(s.prefinished=!0,u.emit("prefinish")))}function K(u,s){var _=ue(s);if(_&&(le(u,s),s.pendingcb===0&&(s.finished=!0,u.emit("finish"),s.autoDestroy))){var L=u._readableState;(!L||L.autoDestroy&&L.endEmitted)&&u.destroy()}return _}function Te(u,s,_){s.ending=!0,K(u,s),_&&(s.finished?x.nextTick(_):u.once("finish",_)),s.ended=!0,u.writable=!1}function Le(u,s,_){var L=u.entry;for(u.entry=null;L;){var P=L.callback;s.pendingcb--,P(_),L=L.next}s.corkedRequestsFree.next=u}return Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),D.prototype.destroy=c.destroy,D.prototype._undestroy=c.undestroy,D.prototype._destroy=function(u,s){s(u)},Pe}var De,tt;function ne(){if(tt)return De;tt=1;var e=Object.keys||function(R){var O=[];for(var b in R)O.push(b);return O};De=l;var t=Pt(),i=Ct();X(l,t);for(var o=e(i.prototype),a=0;a<o.length;a++){var d=o[a];l.prototype[d]||(l.prototype[d]=i.prototype[d])}function l(R){if(!(this instanceof l))return new l(R);t.call(this,R),i.call(this,R),this.allowHalfOpen=!0,R&&(R.readable===!1&&(this.readable=!1),R.writable===!1&&(this.writable=!1),R.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||x.nextTick(c,this)}function c(R){R.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(O){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=O,this._writableState.destroyed=O)}}),De}var xe={},ce={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rt;function ur(){return rt||(rt=1,function(e,t){var i=ge,o=i.Buffer;function a(l,h){for(var c in l)h[c]=l[c]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=d);function d(l,h,c){return o(l,h,c)}d.prototype=Object.create(o.prototype),a(o,d),d.from=function(l,h,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,h,c)},d.alloc=function(l,h,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var R=o(l);return h!==void 0?typeof c=="string"?R.fill(h,c):R.fill(h):R.fill(0),R},d.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},d.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}}(ce,ce.exports)),ce.exports}var nt;function it(){if(nt)return xe;nt=1;var e=ur().Buffer,t=e.isEncoding||function(f){switch(f=""+f,f&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(f){if(!f)return"utf8";for(var v;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(v)return;f=(""+f).toLowerCase(),v=!0}}function o(f){var v=i(f);if(typeof v!="string"&&(e.isEncoding===t||!t(f)))throw new Error("Unknown encoding: "+f);return v||f}xe.StringDecoder=a;function a(f){this.encoding=o(f);var v;switch(this.encoding){case"utf16le":this.text=b,this.end=C,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=k,this.end=S,v=3;break;default:this.write=T,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}a.prototype.write=function(f){if(f.length===0)return"";var v,y;if(this.lastNeed){if(v=this.fillLast(f),v===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<f.length?v?v+this.text(f,y):this.text(f,y):v||""},a.prototype.end=O,a.prototype.text=R,a.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length};function d(f){return f<=127?0:f>>5===6?2:f>>4===14?3:f>>3===30?4:f>>6===2?-1:-2}function l(f,v,y){var g=v.length-1;if(g<y)return 0;var E=d(v[g]);return E>=0?(E>0&&(f.lastNeed=E-1),E):--g<y||E===-2?0:(E=d(v[g]),E>=0?(E>0&&(f.lastNeed=E-2),E):--g<y||E===-2?0:(E=d(v[g]),E>=0?(E>0&&(E===2?E=0:f.lastNeed=E-3),E):0))}function h(f,v,y){if((v[0]&192)!==128)return f.lastNeed=0,"�";if(f.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return f.lastNeed=1,"�";if(f.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return f.lastNeed=2,"�"}}function c(f){var v=this.lastTotal-this.lastNeed,y=h(this,f);if(y!==void 0)return y;if(this.lastNeed<=f.length)return f.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,v,0,f.length),this.lastNeed-=f.length}function R(f,v){var y=l(this,f,v);if(!this.lastNeed)return f.toString("utf8",v);this.lastTotal=y;var g=f.length-(y-this.lastNeed);return f.copy(this.lastChar,0,g),f.toString("utf8",v,g)}function O(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+"�":v}function b(f,v){if((f.length-v)%2===0){var y=f.toString("utf16le",v);if(y){var g=y.charCodeAt(y.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",v,f.length-1)}function C(f){var v=f&&f.length?this.write(f):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function k(f,v){var y=(f.length-v)%3;return y===0?f.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",v,f.length-y))}function S(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function T(f){return f.toString(this.encoding)}function m(f){return f&&f.length?this.write(f):""}return xe}var at=z.codes.ERR_STREAM_PREMATURE_CLOSE;function lr(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(this,o)}}}function dr(){}function cr(e){return e.setHeader&&typeof e.abort=="function"}function Nt(e,t,i){if(typeof t=="function")return Nt(e,null,t);t||(t={}),i=lr(i||dr);var o=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,d=function(){e.writable||h()},l=e._writableState&&e._writableState.finished,h=function(){a=!1,l=!0,o||i.call(e)},c=e._readableState&&e._readableState.endEmitted,R=function(){o=!1,c=!0,a||i.call(e)},O=function(S){i.call(e,S)},b=function(){var S;if(o&&!c)return(!e._readableState||!e._readableState.ended)&&(S=new at),i.call(e,S);if(a&&!l)return(!e._writableState||!e._writableState.ended)&&(S=new at),i.call(e,S)},C=function(){e.req.on("finish",h)};return cr(e)?(e.on("complete",h),e.on("abort",b),e.req?C():e.on("request",C)):a&&!e._writableState&&(e.on("end",d),e.on("close",d)),e.on("end",R),e.on("finish",h),t.error!==!1&&e.on("error",O),e.on("close",b),function(){e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",C),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("end",R),e.removeListener("error",O),e.removeListener("close",b)}}var Ge=Nt,Ie,ot;function hr(){if(ot)return Ie;ot=1;var e;function t(y,g,E){return g=i(g),g in y?Object.defineProperty(y,g,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[g]=E,y}function i(y){var g=o(y,"string");return typeof g=="symbol"?g:String(g)}function o(y,g){if(typeof y!="object"||y===null)return y;var E=y[Symbol.toPrimitive];if(E!==void 0){var A=E.call(y,g||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(y)}var a=Ge,d=Symbol("lastResolve"),l=Symbol("lastReject"),h=Symbol("error"),c=Symbol("ended"),R=Symbol("lastPromise"),O=Symbol("handlePromise"),b=Symbol("stream");function C(y,g){return{value:y,done:g}}function k(y){var g=y[d];if(g!==null){var E=y[b].read();E!==null&&(y[R]=null,y[d]=null,y[l]=null,g(C(E,!1)))}}function S(y){x.nextTick(k,y)}function T(y,g){return function(E,A){y.then(function(){if(g[c]){E(C(void 0,!0));return}g[O](E,A)},A)}}var m=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((e={get stream(){return this[b]},next:function(){var g=this,E=this[h];if(E!==null)return Promise.reject(E);if(this[c])return Promise.resolve(C(void 0,!0));if(this[b].destroyed)return new Promise(function(M,W){x.nextTick(function(){g[h]?W(g[h]):M(C(void 0,!0))})});var A=this[R],B;if(A)B=new Promise(T(A,this));else{var D=this[b].read();if(D!==null)return Promise.resolve(C(D,!1));B=new Promise(this[O])}return this[R]=B,B}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var g=this;return new Promise(function(E,A){g[b].destroy(null,function(B){if(B){A(B);return}E(C(void 0,!0))})})}),e),m),v=function(g){var E,A=Object.create(f,(E={},t(E,b,{value:g,writable:!0}),t(E,d,{value:null,writable:!0}),t(E,l,{value:null,writable:!0}),t(E,h,{value:null,writable:!0}),t(E,c,{value:g._readableState.endEmitted,writable:!0}),t(E,O,{value:function(D,M){var W=A[b].read();W?(A[R]=null,A[d]=null,A[l]=null,D(C(W,!1))):(A[d]=D,A[l]=M)},writable:!0}),E));return A[R]=null,a(g,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=A[l];D!==null&&(A[R]=null,A[d]=null,A[l]=null,D(B)),A[h]=B;return}var M=A[d];M!==null&&(A[R]=null,A[d]=null,A[l]=null,M(C(void 0,!0))),A[c]=!0}),g.on("readable",S.bind(null,A)),A};return Ie=v,Ie}var qe,ft;function pr(){return ft||(ft=1,qe=function(){throw new Error("Readable.from is not available in the browser")}),qe}var ke,st;function Pt(){if(st)return ke;st=1,ke=M;var e;M.ReadableState=D,Tt.EventEmitter;var t=function(n,p){return n.listeners(p).length},i=Lt,o=ge.Buffer,a=(typeof U<"u"?U:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(r){return o.from(r)}function l(r){return o.isBuffer(r)||r instanceof a}var h=vt,c;h&&h.debuglog?c=h.debuglog("stream"):c=function(){};var R=zt(),O=Mt,b=At,C=b.getHighWaterMark,k=z.codes,S=k.ERR_INVALID_ARG_TYPE,T=k.ERR_STREAM_PUSH_AFTER_EOF,m=k.ERR_METHOD_NOT_IMPLEMENTED,f=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,y,g;X(M,i);var E=O.errorOrDestroy,A=["error","close","destroy","pause","resume"];function B(r,n,p){if(typeof r.prependListener=="function")return r.prependListener(n,p);!r._events||!r._events[n]?r.on(n,p):Array.isArray(r._events[n])?r._events[n].unshift(p):r._events[n]=[p,r._events[n]]}function D(r,n,p){e=e||ne(),r=r||{},typeof p!="boolean"&&(p=n instanceof e),this.objectMode=!!r.objectMode,p&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=C(this,r,"readableHighWaterMark",p),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(v||(v=it().StringDecoder),this.decoder=new v(r.encoding),this.encoding=r.encoding)}function M(r){if(e=e||ne(),!(this instanceof M))return new M(r);var n=this instanceof e;this._readableState=new D(r,this,n),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(n){this._readableState&&(this._readableState.destroyed=n)}}),M.prototype.destroy=O.destroy,M.prototype._undestroy=O.undestroy,M.prototype._destroy=function(r,n){n(r)},M.prototype.push=function(r,n){var p=this._readableState,w;return p.objectMode?w=!0:typeof r=="string"&&(n=n||p.defaultEncoding,n!==p.encoding&&(r=o.from(r,n),n=""),w=!0),W(this,r,n,!1,w)},M.prototype.unshift=function(r){return W(this,r,null,!0,!1)};function W(r,n,p,w,j){c("readableAddChunk",n);var N=r._readableState;if(n===null)N.reading=!1,Re(r,N);else{var q;if(j||(q=me(N,n)),q)E(r,q);else if(N.objectMode||n&&n.length>0)if(typeof n!="string"&&!N.objectMode&&Object.getPrototypeOf(n)!==o.prototype&&(n=d(n)),w)N.endEmitted?E(r,new f):ie(r,N,n,!0);else if(N.ended)E(r,new T);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!p?(n=N.decoder.write(n),N.objectMode||n.length!==0?ie(r,N,n,!1):Q(r,N)):ie(r,N,n,!1)}else w||(N.reading=!1,Q(r,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function ie(r,n,p,w){n.flowing&&n.length===0&&!n.sync?(n.awaitDrain=0,r.emit("data",p)):(n.length+=n.objectMode?1:p.length,w?n.buffer.unshift(p):n.buffer.push(p),n.needReadable&&$(r)),Q(r,n)}function me(r,n){var p;return!l(n)&&typeof n!="string"&&n!==void 0&&!r.objectMode&&(p=new S("chunk",["string","Buffer","Uint8Array"],n)),p}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(r){v||(v=it().StringDecoder);var n=new v(r);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,w="";p!==null;)w+=n.write(p.data),p=p.next;return this._readableState.buffer.clear(),w!==""&&this._readableState.buffer.push(w),this._readableState.length=w.length,this};var J=1073741824;function Ee(r){return r>=J?r=J:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r}function fe(r,n){return r<=0||n.length===0&&n.ended?0:n.objectMode?1:r!==r?n.flowing&&n.length?n.buffer.head.data.length:n.length:(r>n.highWaterMark&&(n.highWaterMark=Ee(r)),r<=n.length?r:n.ended?n.length:(n.needReadable=!0,0))}M.prototype.read=function(r){c("read",r),r=parseInt(r,10);var n=this._readableState,p=r;if(r!==0&&(n.emittedReadable=!1),r===0&&n.needReadable&&((n.highWaterMark!==0?n.length>=n.highWaterMark:n.length>0)||n.ended))return c("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?_(this):$(this),null;if(r=fe(r,n),r===0&&n.ended)return n.length===0&&_(this),null;var w=n.needReadable;c("need readable",w),(n.length===0||n.length-r<n.highWaterMark)&&(w=!0,c("length less than watermark",w)),n.ended||n.reading?(w=!1,c("reading or ended",w)):w&&(c("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(r=fe(p,n)));var j;return r>0?j=s(r,n):j=null,j===null?(n.needReadable=n.length<=n.highWaterMark,r=0):(n.length-=r,n.awaitDrain=0),n.length===0&&(n.ended||(n.needReadable=!0),p!==r&&n.ended&&_(this)),j!==null&&this.emit("data",j),j};function Re(r,n){if(c("onEofChunk"),!n.ended){if(n.decoder){var p=n.decoder.end();p&&p.length&&(n.buffer.push(p),n.length+=n.objectMode?1:p.length)}n.ended=!0,n.sync?$(r):(n.needReadable=!1,n.emittedReadable||(n.emittedReadable=!0,se(r)))}}function $(r){var n=r._readableState;c("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(c("emitReadable",n.flowing),n.emittedReadable=!0,x.nextTick(se,r))}function se(r){var n=r._readableState;c("emitReadable_",n.destroyed,n.length,n.ended),!n.destroyed&&(n.length||n.ended)&&(r.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,u(r)}function Q(r,n){n.readingMore||(n.readingMore=!0,x.nextTick(ue,r,n))}function ue(r,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&n.length===0);){var p=n.length;if(c("maybeReadMore read 0"),r.read(0),p===n.length)break}n.readingMore=!1}M.prototype._read=function(r){E(this,new m("_read()"))},M.prototype.pipe=function(r,n){var p=this,w=this._readableState;switch(w.pipesCount){case 0:w.pipes=r;break;case 1:w.pipes=[w.pipes,r];break;default:w.pipes.push(r);break}w.pipesCount+=1,c("pipe count=%d opts=%j",w.pipesCount,n);var j=(!n||n.end!==!1)&&r!==x.stdout&&r!==x.stderr,N=j?Z:ae;w.endEmitted?x.nextTick(N):p.once("end",N),r.on("unpipe",q);function q(ee,te){c("onunpipe"),ee===p&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,Ut())}function Z(){c("onend"),r.end()}var de=Se(p);r.on("drain",de);var Ve=!1;function Ut(){c("cleanup"),r.removeListener("close",Oe),r.removeListener("finish",Ae),r.removeListener("drain",de),r.removeListener("error",Me),r.removeListener("unpipe",q),p.removeListener("end",Z),p.removeListener("end",ae),p.removeListener("data",Ye),Ve=!0,w.awaitDrain&&(!r._writableState||r._writableState.needDrain)&&de()}p.on("data",Ye);function Ye(ee){c("ondata");var te=r.write(ee);c("dest.write",te),te===!1&&((w.pipesCount===1&&w.pipes===r||w.pipesCount>1&&P(w.pipes,r)!==-1)&&!Ve&&(c("false write response, pause",w.awaitDrain),w.awaitDrain++),p.pause())}function Me(ee){c("onerror",ee),ae(),r.removeListener("error",Me),t(r,"error")===0&&E(r,ee)}B(r,"error",Me);function Oe(){r.removeListener("finish",Ae),ae()}r.once("close",Oe);function Ae(){c("onfinish"),r.removeListener("close",Oe),ae()}r.once("finish",Ae);function ae(){c("unpipe"),p.unpipe(r)}return r.emit("pipe",p),w.flowing||(c("pipe resume"),p.resume()),r};function Se(r){return function(){var p=r._readableState;c("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,p.awaitDrain===0&&t(r,"data")&&(p.flowing=!0,u(r))}}M.prototype.unpipe=function(r){var n=this._readableState,p={hasUnpiped:!1};if(n.pipesCount===0)return this;if(n.pipesCount===1)return r&&r!==n.pipes?this:(r||(r=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,r&&r.emit("unpipe",this,p),this);if(!r){var w=n.pipes,j=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var N=0;N<j;N++)w[N].emit("unpipe",this,{hasUnpiped:!1});return this}var q=P(n.pipes,r);return q===-1?this:(n.pipes.splice(q,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),r.emit("unpipe",this,p),this)},M.prototype.on=function(r,n){var p=i.prototype.on.call(this,r,n),w=this._readableState;return r==="data"?(w.readableListening=this.listenerCount("readable")>0,w.flowing!==!1&&this.resume()):r==="readable"&&!w.endEmitted&&!w.readableListening&&(w.readableListening=w.needReadable=!0,w.flowing=!1,w.emittedReadable=!1,c("on readable",w.length,w.reading),w.length?$(this):w.reading||x.nextTick(K,this)),p},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(r,n){var p=i.prototype.removeListener.call(this,r,n);return r==="readable"&&x.nextTick(le,this),p},M.prototype.removeAllListeners=function(r){var n=i.prototype.removeAllListeners.apply(this,arguments);return(r==="readable"||r===void 0)&&x.nextTick(le,this),n};function le(r){var n=r._readableState;n.readableListening=r.listenerCount("readable")>0,n.resumeScheduled&&!n.paused?n.flowing=!0:r.listenerCount("data")>0&&r.resume()}function K(r){c("readable nexttick read 0"),r.read(0)}M.prototype.resume=function(){var r=this._readableState;return r.flowing||(c("resume"),r.flowing=!r.readableListening,Te(this,r)),r.paused=!1,this};function Te(r,n){n.resumeScheduled||(n.resumeScheduled=!0,x.nextTick(Le,r,n))}function Le(r,n){c("resume",n.reading),n.reading||r.read(0),n.resumeScheduled=!1,r.emit("resume"),u(r),n.flowing&&!n.reading&&r.read(0)}M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function u(r){var n=r._readableState;for(c("flow",n.flowing);n.flowing&&r.read()!==null;);}M.prototype.wrap=function(r){var n=this,p=this._readableState,w=!1;r.on("end",function(){if(c("wrapped end"),p.decoder&&!p.ended){var q=p.decoder.end();q&&q.length&&n.push(q)}n.push(null)}),r.on("data",function(q){if(c("wrapped data"),p.decoder&&(q=p.decoder.write(q)),!(p.objectMode&&q==null)&&!(!p.objectMode&&(!q||!q.length))){var Z=n.push(q);Z||(w=!0,r.pause())}});for(var j in r)this[j]===void 0&&typeof r[j]=="function"&&(this[j]=function(Z){return function(){return r[Z].apply(r,arguments)}}(j));for(var N=0;N<A.length;N++)r.on(A[N],this.emit.bind(this,A[N]));return this._read=function(q){c("wrapped _read",q),w&&(w=!1,r.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=hr()),y(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(n){this._readableState&&(this._readableState.flowing=n)}}),M._fromList=s,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function s(r,n){if(n.length===0)return null;var p;return n.objectMode?p=n.buffer.shift():!r||r>=n.length?(n.decoder?p=n.buffer.join(""):n.buffer.length===1?p=n.buffer.first():p=n.buffer.concat(n.length),n.buffer.clear()):p=n.buffer.consume(r,n.decoder),p}function _(r){var n=r._readableState;c("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,x.nextTick(L,n,r))}function L(r,n){if(c("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,n.readable=!1,n.emit("end"),r.autoDestroy)){var p=n._writableState;(!p||p.autoDestroy&&p.finished)&&n.destroy()}}typeof Symbol=="function"&&(M.from=function(r,n){return g===void 0&&(g=pr()),g(M,r,n)});function P(r,n){for(var p=0,w=r.length;p<w;p++)if(r[p]===n)return p;return-1}return ke}var Dt=G,be=z.codes,vr=be.ERR_METHOD_NOT_IMPLEMENTED,_r=be.ERR_MULTIPLE_CALLBACK,yr=be.ERR_TRANSFORM_ALREADY_TRANSFORMING,gr=be.ERR_TRANSFORM_WITH_LENGTH_0,we=ne();X(G,we);function br(e,t){var i=this._transformState;i.transforming=!1;var o=i.writecb;if(o===null)return this.emit("error",new _r);i.writechunk=null,i.writecb=null,t!=null&&this.push(t),o(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function G(e){if(!(this instanceof G))return new G(e);we.call(this,e),this._transformState={afterTransform:br.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",wr)}function wr(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,i){ut(e,t,i)}):ut(this,null,null)}G.prototype.push=function(e,t){return this._transformState.needTransform=!1,we.prototype.push.call(this,e,t)};G.prototype._transform=function(e,t,i){i(new vr("_transform()"))};G.prototype._write=function(e,t,i){var o=this._transformState;if(o.writecb=i,o.writechunk=e,o.writeencoding=t,!o.transforming){var a=this._readableState;(o.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};G.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};G.prototype._destroy=function(e,t){we.prototype._destroy.call(this,e,function(i){t(i)})};function ut(e,t,i){if(t)return e.emit("error",t);if(i!=null&&e.push(i),e._writableState.length)throw new gr;if(e._transformState.transforming)throw new yr;return e.push(null)}var mr=oe,xt=Dt;X(oe,xt);function oe(e){if(!(this instanceof oe))return new oe(e);xt.call(this,e)}oe.prototype._transform=function(e,t,i){i(null,e)};var je;function Er(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var It=z.codes,Rr=It.ERR_MISSING_ARGS,Sr=It.ERR_STREAM_DESTROYED;function lt(e){if(e)throw e}function Tr(e){return e.setHeader&&typeof e.abort=="function"}function Lr(e,t,i,o){o=Er(o);var a=!1;e.on("close",function(){a=!0}),je===void 0&&(je=Ge),je(e,{readable:t,writable:i},function(l){if(l)return o(l);a=!0,o()});var d=!1;return function(l){if(!a&&!d){if(d=!0,Tr(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();o(l||new Sr("pipe"))}}}function dt(e){e()}function Mr(e,t){return e.pipe(t)}function Or(e){return!e.length||typeof e[e.length-1]!="function"?lt:e.pop()}function Ar(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=Or(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Rr("streams");var a,d=t.map(function(l,h){var c=h<t.length-1,R=h>0;return Lr(l,c,R,function(O){a||(a=O),O&&d.forEach(dt),!c&&(d.forEach(dt),o(a))})});return t.reduce(Mr)}var Cr=Ar;(function(e,t){t=e.exports=Pt(),t.Stream=t,t.Readable=t,t.Writable=Ct(),t.Duplex=ne(),t.Transform=Dt,t.PassThrough=mr,t.finished=Ge,t.pipeline=Cr})(Ue,Ue.exports);var qt=Ue.exports,ct=Fe,Nr=X,kt=qt,he=_e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},$e=_e.IncomingMessage=function(e,t,i,o){var a=this;if(kt.Readable.call(a),a._mode=i,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){x.nextTick(function(){a.emit("close")})}),i==="fetch"){let O=function(){l.read().then(function(b){if(!a._destroyed){if(o(b.done),b.done){a.push(null);return}a.push(V.from(b.value)),O()}}).catch(function(b){o(!0),a._destroyed||a.emit("error",b)})};if(a._fetchResponse=t,a.url=t.url,a.statusCode=t.status,a.statusMessage=t.statusText,t.headers.forEach(function(b,C){a.headers[C.toLowerCase()]=b,a.rawHeaders.push(C,b)}),ct.writableStream){var d=new WritableStream({write:function(b){return o(!1),new Promise(function(C,k){a._destroyed?k():a.push(V.from(b))?C():a._resumeFetch=C})},close:function(){o(!0),a._destroyed||a.push(null)},abort:function(b){o(!0),a._destroyed||a.emit("error",b)}});try{t.body.pipeTo(d).catch(function(b){o(!0),a._destroyed||a.emit("error",b)});return}catch{}}var l=t.body.getReader();O()}else{a._xhr=e,a._pos=0,a.url=e.responseURL,a.statusCode=e.status,a.statusMessage=e.statusText;var h=e.getAllResponseHeaders().split(/\r?\n/);if(h.forEach(function(O){var b=O.match(/^([^:]+):\s*(.*)/);if(b){var C=b[1].toLowerCase();C==="set-cookie"?(a.headers[C]===void 0&&(a.headers[C]=[]),a.headers[C].push(b[2])):a.headers[C]!==void 0?a.headers[C]+=", "+b[2]:a.headers[C]=b[2],a.rawHeaders.push(b[1],b[2])}}),a._charset="x-user-defined",!ct.overrideMimeType){var c=a.rawHeaders["mime-type"];if(c){var R=c.match(/;\s*charset=([^;])(;|$)/);R&&(a._charset=R[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};Nr($e,kt.Readable);$e.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())};$e.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,o=null;switch(t._mode){case"text":if(o=i.responseText,o.length>t._pos){var a=o.substr(t._pos);if(t._charset==="x-user-defined"){for(var d=V.alloc(a.length),l=0;l<a.length;l++)d[l]=a.charCodeAt(l)&255;t.push(d)}else t.push(a,t._charset);t._pos=o.length}break;case"arraybuffer":if(i.readyState!==he.DONE||!i.response)break;o=i.response,t.push(V.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=i.response,i.readyState!==he.LOADING||!o)break;t.push(V.from(new Uint8Array(o)));break;case"ms-stream":if(o=i.response,i.readyState!==he.LOADING)break;var h=new U.MSStreamReader;h.onprogress=function(){h.result.byteLength>t._pos&&(t.push(V.from(new Uint8Array(h.result.slice(t._pos)))),t._pos=h.result.byteLength)},h.onload=function(){e(!0),t.push(null)},h.readAsArrayBuffer(o);break}t._xhr.readyState===he.DONE&&t._mode!=="ms-stream"&&(e(!0),t.push(null))};var Y=Fe,Pr=X,jt=_e,Ke=qt,Dr=jt.IncomingMessage,ht=jt.readyStates;function xr(e,t){return Y.fetch&&t?"fetch":Y.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Y.msstream?"ms-stream":Y.arraybuffer&&e?"arraybuffer":"text"}var H=_t.exports=function(e){var t=this;Ke.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+V.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(a){t.setHeader(a,e.headers[a])});var i,o=!0;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!Y.abortController)o=!1,i=!0;else if(e.mode==="prefer-streaming")i=!1;else if(e.mode==="allow-wrong-content-type")i=!Y.overrideMimeType;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")i=!0;else throw new Error("Invalid value for opts.mode");t._mode=xr(i,o),t._fetchTimer=null,t._socketTimeout=null,t._socketTimer=null,t.on("finish",function(){t._onFinish()})};Pr(H,Ke.Writable);H.prototype.setHeader=function(e,t){var i=this,o=e.toLowerCase();qr.indexOf(o)===-1&&(i._headers[o]={name:e,value:t})};H.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null};H.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};H.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&t.timeout!==0&&e.setTimeout(t.timeout);var i=e._headers,o=null;t.method!=="GET"&&t.method!=="HEAD"&&(o=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var a=[];if(Object.keys(i).forEach(function(c){var R=i[c].name,O=i[c].value;Array.isArray(O)?O.forEach(function(b){a.push([R,b])}):a.push([R,O])}),e._mode==="fetch"){var d=null;if(Y.abortController){var l=new AbortController;d=l.signal,e._fetchAbortController=l,"requestTimeout"in t&&t.requestTimeout!==0&&(e._fetchTimer=U.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}U.fetch(e._opts.url,{method:e._opts.method,headers:a,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:d}).then(function(c){e._fetchResponse=c,e._resetTimers(!1),e._connect()},function(c){e._resetTimers(!0),e._destroyed||e.emit("error",c)})}else{var h=e._xhr=new U.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(c){x.nextTick(function(){e.emit("error",c)});return}"responseType"in h&&(h.responseType=e._mode),"withCredentials"in h&&(h.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(h.timeout=t.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),a.forEach(function(c){h.setRequestHeader(c[0],c[1])}),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case ht.LOADING:case ht.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{h.send(o)}catch(c){x.nextTick(function(){e.emit("error",c)});return}}}};function Ir(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}H.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),!(!Ir(e._xhr)||e._destroyed)&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))};H.prototype._connect=function(){var e=this;e._destroyed||(e._response=new Dr(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))};H.prototype._write=function(e,t,i){var o=this;o._body.push(e),i()};H.prototype._resetTimers=function(e){var t=this;U.clearTimeout(t._socketTimer),t._socketTimer=null,e?(U.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=U.setTimeout(function(){t.emit("timeout")},t._socketTimeout))};H.prototype.abort=H.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)};H.prototype.end=function(e,t,i){var o=this;typeof e=="function"&&(i=e,e=void 0),Ke.Writable.prototype.end.call(o,e,t,i)};H.prototype.setTimeout=function(e,t){var i=this;t&&i.once("timeout",t),i._socketTimeout=e,i._resetTimers(!1)};H.prototype.flushHeaders=function(){};H.prototype.setNoDelay=function(){};H.prototype.setSocketKeepAlive=function(){};var qr=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],kr=_t.exports,jr=Br,Ur=Object.prototype.hasOwnProperty;function Br(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var o in i)Ur.call(i,o)&&(e[o]=i[o])}return e}var Hr={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};const Fr=pt(Ft);(function(e){var t=kr,i=_e,o=jr,a=Hr,d=Fr,l=e;l.request=function(h,c){typeof h=="string"?h=d.parse(h):h=o(h);var R=U.location.protocol.search(/^https?:$/)===-1?"http:":"",O=h.protocol||R,b=h.hostname||h.host,C=h.port,k=h.path||"/";b&&b.indexOf(":")!==-1&&(b="["+b+"]"),h.url=(b?O+"//"+b:"")+(C?":"+C:"")+k,h.method=(h.method||"GET").toUpperCase(),h.headers=h.headers||{};var S=new t(h);return c&&S.on("response",c),S},l.get=function(c,R){var O=l.request(c,R);return O.end(),O},l.ClientRequest=t,l.IncomingMessage=i.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(He);const Wr=Bt(He),Xr=Wt({__proto__:null,default:Wr},[He]);export{Xr as i,Fr as r,He as s};
